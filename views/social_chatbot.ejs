<!-- social networking fixed bar starts -->
 <!-- gaurav kothari-->
<style>
    .social-bar {
        z-index: 2;
        position: fixed;
        top: 50%;
        /* vertically centered */
        left: 0;
        /* stick to the left side */
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        background: linear-gradient(#6d8196, #1F2539, red);
        /* bar background */
        padding: 1px;
        border-radius: 0 5px 5px 0;
    }

    .social-bar a {
        color: white;
        text-decoration: none;
        padding: 10px;
        margin: 5px 0;
        display: block;
        transition: background 0.3s;
    }

    .social-bar a:hover {
        background: linear-gradient(#234567);
        border-radius: 50%;
        box-shadow: 1px 1px 10px 1px;
        transform: rotate(360deg);
        transition: 1s;
    }

    /* .bot1 {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        background: #1F2539;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 9999;
        color: white;
        font-size: 28px;
        box-shadow: 0 0 10px black;
    }
 */
.bot1 {
    height: 50px;
    width: 50px;
    background: #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
}

/* SMOKE EFFECT using pseudo-element */
.bot1::after {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0));
    animation: smokeSpread 2s infinite ease-out;
    pointer-events: none;
}

/* SMOKE KEYFRAMES */
@keyframes smokeSpread {
    0% {
        transform: scale(1);
        opacity: 0.7;
    }
    70% {
        transform: scale(2.5);
        opacity: 0.2;
    }
    100% {
        transform: scale(3);
        opacity: 0;
    }
}

/* ICON STYLE */
.bot1 i {
    font-size: 28px;
    color: #000;
}


    .bot2 {
        display: none;
        position: fixed;
        bottom: 90px;
        right: 20px;
        width: 320px;
        z-index: 9999;
    }

    #bot3 {
        border-radius: 10px;
        background: white;
        padding: 0;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        color: black;
    }

    #bot4 {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: white;
        border-radius: 10px 10px 0 0;
        color: black;
    }

    #bot5 {
        background: transparent;
        border: none;
        color: white;
        font-weight: bold;
        cursor: pointer;
        font-size: 18px;
    }

    .bot6 {
        margin-top: 10px;
        max-height: 200px;
        overflow-y: auto;
        color: black;
        scrollbar-width: none;
    }

    .bot7 {
        width: 100%;
        outline: 0;
        background: white;
        border: 1px solid #ccc;
        height: 50px;
        border-top-width: 0px;
        border-right-width: 0px;
        border-left-width: 0px;
        font-size: 15px;
        color: black;
        margin-top: 10px;
        border-radius: 5px;
    }

    #bot8 {
        width: 100%;
        outline: 0;
        margin-top: 10px;
        padding: 5px;
        font-size: 16px;
        background: #1F2539;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    /* WhatsApp Button */
.whatsapp-btn {
    position: fixed;
    bottom: 90px;   /* 90px so it appears ABOVE chatbot */
    right: 20px;
    width: 50px;
    height: 50px;
    background: #25D366;
    color: white;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 9999;
    font-size: 28px;
    box-shadow: 0 0 10px black;
}
.chat-left {
    text-align: left;
    background: #eaeaea;
    padding: 8px 12px;
    border-radius: 8px;
    margin: 6px 0;
    max-width: 85%;
    font-size: 15px;
}

.chat-right {
    text-align: right;
    background: #d1e7ff;
    padding: 8px 12px;
    border-radius: 8px;
    margin: 6px 0 6px auto;
    max-width: 85%;
    font-size: 15px;
}

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<div class="social-bar">
    <a target="_blank" href="https://wa.me/917000919841?text=Hello%20Encode%20AI%2C%20I%20need%20help"><i class="fab fa-whatsapp"></i></a>
    <a target="_blank" href="https://www.facebook.com/share/17ZFedNhTE/"><i class="fab fa-facebook"></i></a>
    <a target="_blank" href="https://www.youtube.com/channel/UCjzk5WYDG8dtnwZmz_cXcCQ"><i class="fab fa-youtube"></i></a>
    <a target="_blank" href="https://www.instagram.com/encode__ai?igsh=emI2bG45ZGQwbTYx"><i class="fab fa-instagram"></i></a>
    <a target="_blank" href="https://www.linkedin.com/company/encode-ai-in/"><i class="fab fa-linkedin-in"></i></a>
</div>

<!-- social networking fixed bar ends -->

<!-- whatsapp code starts -->
 <!-- WhatsApp Icon -->
<a href="https://wa.me/917000919841?text=Hello%20Encode%20AI%2C%20I%20need%20help" target="_blank">
    <div class="whatsapp-btn">
        <i style="font-size: 50px;" class="fab fa-whatsapp"></i>
    </div>
</a>
 <!-- whatsapp code ends -->
<!-- chat boat code starts -->
<!-- Chatbot Icon -->
 
<!-- uncomment this starts for chat bot -->
<!-- <div id="chatbotIcon" style="height:50px;width:50px;" onclick="toggleChat()" class="bot1">  -->
     <!-- <i style="font-size: 40px;" class="fas fa-headset"></i>  -->
     <!-- <img src="/images/robot.gif" style="height: 40px; border-radius: 50%;" alt=""/>  -->
 <!-- </div> -->
<!-- uncomment this ends for chat bot -->

<!-- Chatbot Window -->
<div id="chatbotWindow" class="bot2">

    <!-- Outer Box -->
    <div id="bot3">

        <!-- Header with gradient -->
        <div id="bot4">
            <h4 style="margin:0; font-size: 16px;">Hey, I am your AI Mitra</h4>
            <button onclick="toggleChat()" id="bot5">âœ–</button>
        </div>

        <!-- Chat Body -->
        <div style="padding:10px;">
            <!-- Chat Area -->
            <div id="faqResponse" class="bot6"></div>

            <!-- User Input -->
            <input id="faqMsg" placeholder="Ask your question with Your AI Mitra" class="bot7"></input>

            <!-- Send Button -->
            <button onclick="sendFAQ()" id="bot8">Ask Your AI Mitra</button>

        </div>
    </div>
</div>

<script>
    function toggleChat() {
        let box = document.getElementById("chatbotWindow");
        box.style.display = (box.style.display === "none" || box.style.display === "")
            ? "block" : "none";
    }

    async function sendFAQ() {
        const msgBox = document.getElementById("faqMsg");
        const message = msgBox.value.trim();

        if (message === "") return;

        const res = await fetch("/faq-chat", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message })
        });

        const data = await res.json();
const faqResponse = document.getElementById("faqResponse"); // âœ… add this

    //     // Append chat with black text always
    //     document.getElementById("faqResponse").innerHTML +=
    //         `<p style="color:black; font-size:16px;">
    //     <b>You:</b> ${message}<br>
    //     <b>Bot:</b> ${data.reply}
    //  </p>`
    //  ;

    document.getElementById("faqResponse").innerHTML +=
    `<div class="chat-right">
        <b>You:</b> ${message}
    </div>
    <div class="chat-left">
        <b>AI Mitra:</b> ${data.reply}
    </div>`;

        // ðŸ”¥ AUTO-SCROLL TO BOTTOM
        faqResponse.scrollTop = faqResponse.scrollHeight;

        msgBox.value = "";
    }
</script>

<!-- chat boat code ends -->